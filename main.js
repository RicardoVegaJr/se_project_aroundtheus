!function(){"use strict";class e{constructor(e,t,o,s,n,r){this._name=e.name,this._link=e.link,this._id=e._id,this._isLiked=e.isLiked,this._cardSelector=t,this._handleImageClick=o,this._handleCardDeleteClick=s,this._handleCardLike=n,this._handleCardLikeRemove=r}getId(){return this._id}_setEventListeners(){this._cardElement.querySelector(".card-heart").addEventListener("click",(()=>{this._isLiked?this._handleCardLikeRemove(this):this._handleCardLike(this)})),this._cardElement.querySelector(".card__delete-button").addEventListener("click",(()=>{this._handleCardDeleteClick(this)})),this._cardImageEl.addEventListener("click",(()=>{this._handleImageClick({name:this._name,link:this._link})}))}remove(){this._cardElement.remove()}handleLikeIcon(){this._cardElement.querySelector(".card-heart").classList.toggle("card-heart_active"),this._isLiked=!this._isLiked}_loadLikes(){this._cardElement.querySelector(".card-heart").classList.add("card-heart_active")}getView(){return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._cardImageEl=this._cardElement.querySelector(".card-image"),this._cardTitleEl=this._cardElement.querySelector(".card-title"),this._cardImageEl.src=this._link,this._cardImageEl.alt=`Photo of ${this._name}`,this._cardTitleEl.textContent=this._name,this._isLiked&&this._loadLikes(),this._setEventListeners(),this._cardElement}}var t=class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formEl=t}_showInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_foundInvalid(){return!this._inputEls.every((e=>e.validity.valid))}toggleButtonState(){this._foundInvalid()?this._disableButton():(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1)}_disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_hideInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_setEventListeners(){this._inputEls=[...this._formEl.querySelectorAll(this._inputSelector)],this._submitButton=this._formEl.querySelector(this._submitButtonSelector),this._inputEls.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._formEl.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners(this._formEl)}};class o{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._closeModalButton=this._popupElement.querySelector(".modal__close")}openModal(){this._popupElement.classList.add("modal_opened"),this.setEventListeners()}closeModal(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keyup",this._handleEscButton),document.removeEventListener("click",this._handleOverlayClose),this._closeModalButton.removeEventListener("click",this._handleClickButtonClose)}_handleEscButton=e=>{"Escape"===e.key&&this.closeModal()};_handleOverlayClose=e=>{e.target.classList.contains("modal_opened")&&this.closeModal()};_handleClickButtonClose=()=>{this.closeModal()};setEventListeners(){document.addEventListener("keyup",this._handleEscButton),document.addEventListener("click",this._handleOverlayClose),this._closeModalButton.addEventListener("click",this._handleClickButtonClose)}}class s extends o{constructor(e){let{popupSelector:t,handleFormSubmit:o}=e;super({popupSelector:t}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=o}closeModal(){this._popupForm.reset(),super.closeModal(),this._popupForm.removeEventListener("submit",this._handleFormSubmitButton)}_handleFormSubmitButton=e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())};setEventListeners(){this._popupForm.addEventListener("submit",this._handleFormSubmitButton),super.setEventListeners()}_getInputValues(){const e=[...this._popupForm.querySelectorAll(".input")],t={};for(const o of e)t[o.name]=o.value;return t}setSubmitAction(e){this._handleFormSubmit=e}}class n{constructor(e,t,o){let{items:s}=e;this._items=s,this._renderer=t,this._container=document.querySelector(o)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.appendChild(e)}prependItems(e){this._container.prepend(e)}}const r={formSelector:".modal__form",inputSelector:".modal__edit",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:".modal__error",errorClass:".modal__error_visible"},i=document.querySelector("#profileModal"),l=document.querySelector("#profilePhotoModal"),a=document.querySelector("#profileImage"),c=document.querySelector("#content__add-button-action"),d=document.querySelector("#modalprofileform"),h=document.querySelector("#modalcontentform"),u=d.querySelector("#name"),m=d.querySelector("#title"),_=document.querySelector("#profile__edit-button-action"),p=new class{constructor(e){let{baseUrl:t,headers:o}=e;this._baseUrl=t,this._headers=o}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then((e=>this._checkResponse(e)))}loadUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then((e=>this._checkResponse(e)))}editProfileInfo(e){let{name:t,about:o}=e;return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:o})}).then((e=>this._checkResponse(e)))}addNewCard(e){let{title:t,url:o}=e;return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:o})}).then((e=>this._checkResponse(e)))}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then((e=>this._checkResponse(e)))}addCardLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then((e=>this._checkResponse(e)))}removeCardLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then((e=>this._checkResponse(e)))}updateProfilePhoto(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.profilePictureLink})}).then((e=>this._checkResponse(e)))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"23172f33-55e2-4e0e-a695-0bae3ab40106","Content-Type":"application/json"}});function E(t){return new e(t,"#card-template",y,L,I,B).getView()}let S;p.getInitialCards().then((e=>{S=new n({items:e},(function(e){const t=E(e);S.addItem(t)}),"#section"),S.renderItems()})).catch((e=>{console.log(e)}));const v=new s({popupSelector:"#contentModal",handleFormSubmit:function(e){const t=document.getElementById("modalContentSubmit"),o=t.textContent;t.textContent="Saving...",p.addNewCard(e).then((e=>{const t=E(e);S.prependItems(t),v.closeModal()})).catch((e=>{console.log(e)})).finally((()=>{t.textContent=o}))}});c.addEventListener("click",(()=>{M.toggleButtonState(),v.openModal()}));const f=new class{constructor(e,t,o){this.nameEl=document.querySelector(e),this.aboutEl=document.querySelector(t),this.userAvatar=document.querySelector(o)}getUserInfo(){return{name:this.nameEl.textContent,job:this.aboutEl.textContent}}setUserInfo(e){let{name:t,about:o,avatar:s}=e;this.nameEl.textContent=t,this.aboutEl.textContent=o,this.userAvatar.src=s}}("#profilename","#profilejob","#profileImage");p.loadUserInfo().then((e=>{f.setUserInfo(e)})).catch(console.error),_.addEventListener("click",(()=>{const e=f.getUserInfo();u.value=e.name,m.value=e.job,b.openModal()})),a.addEventListener("click",(()=>{w.toggleButtonState(),C.openModal()}));const b=new s({popupSelector:"#profileModal",handleFormSubmit:function(e){q.toggleButtonState(),b.openModal();const t=e.name,o=e.about,s=document.getElementById("modalProfileSubmit"),n=s.textContent;s.textContent="Saving...",p.editProfileInfo({name:t,about:o}).then((e=>{f.setUserInfo(e),b.closeModal()})).catch((e=>{console.log(e)})).finally((()=>{s.textContent=n}))}}),C=new s({popupSelector:"#profilePhotoModal",handleFormSubmit:function(e){const t=document.getElementById("modalPhotoSubmit"),o=t.textContent;t.textContent="Saving...",p.updateProfilePhoto(e).then((e=>{f.setUserInfo(e),C.closeModal()})).catch((e=>{console.log(e)})).finally((()=>{t.textContent=o}))}}),k=new s({popupSelector:"#deleteContent"}),g=new class extends o{constructor(e){let{popupSelector:t}=e;super({popupSelector:t}),this._imagePreview=document.querySelector(".modal__preview-image"),this._modalImageText=document.querySelector(".modal__preview-title")}openModal(e){this._imagePreview.src=e.link,this._imagePreview.alt=`Photo of ${e.name}`,this._modalImageText.textContent=e.name,super.openModal()}}({popupSelector:"#jsPopupSelector"});function L(e){k.openModal(),k.setSubmitAction((()=>{p.deleteCard(e.getId()).then((()=>{e.remove(),k.closeModal()})).catch((e=>{console.log(e)}))}))}function y(e){g.openModal(e)}function I(e){p.addCardLike(e.getId()).then((()=>{e.handleLikeIcon()})).catch((e=>{console.log(e)}))}function B(e){p.removeCardLike(e.getId()).then((()=>{e.handleLikeIcon()})).catch((e=>{console.log(e)}))}const q=new t(r,i);q.enableValidation();const M=new t(r,h);M.enableValidation();const w=new t(r,l);w.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNSak0sS0FBSytMLGNBQWNsSyxJQUFNb0ssRUFBSzdMLEtBQzlCSixLQUFLK0wsY0FBY2pLLElBQU8sWUFBV21LLEVBQUsvTCxPQUMxQ0YsS0FBS2dNLGdCQUFnQmpLLFlBQWNrSyxFQUFLL0wsS0FDeENtRixNQUFNZCxXQUNSLEdIcUg0QyxDQUM1Q0gsY0FBZSxxQkFHakIsU0FBU3ZFLEVBQXNCb00sR0FDN0JKLEVBQW1CdEgsWUFFbkJzSCxFQUFtQjlGLGlCQUFnQixLQUNqQ3dCLEVBQ0cyQixXQUFXK0MsRUFBS3JMLFNBQ2hCeUgsTUFBSyxLQUNKNEQsRUFBSy9LLFNBQ0wySyxFQUFtQnBILFlBQVksSUFFaENzRixPQUFPQyxJQUNOQyxRQUFRQyxJQUFJRixFQUFJLEdBQ2hCLEdBRVIsQ0FFQSxTQUFTcEssRUFBaUJxTSxHQUN4QkgsRUFBbUJ2SCxVQUFVMEgsRUFDL0IsQ0FnREEsU0FBU25NLEVBQWVtTSxHQUN0QjFFLEVBQ0c2QixZQUFZNkMsRUFBS3JMLFNBQ2pCeUgsTUFBSyxLQUNKNEQsRUFBSzlLLGdCQUFnQixJQUV0QjRJLE9BQU9DLElBQ05DLFFBQVFDLElBQUlGLEVBQUksR0FFdEIsQ0FFQSxTQUFTSixFQUFxQnFDLEdBQzVCMUUsRUFDRzhCLGVBQWU0QyxFQUFLckwsU0FDcEJ5SCxNQUFLLEtBQ0o0RCxFQUFLOUssZ0JBQWdCLElBRXRCNEksT0FBT0MsSUFDTkMsUUFBUUMsSUFBSUYsRUFBSSxHQUV0QixDQUVBLE1BQU0yQixFQUF1QixJQUFJTyxFQUFjbEssRUFBUThFLEdBQ3ZENkUsRUFBcUIzSCxtQkFFckIsTUFBTTJHLEVBQW9CLElBQUl1QixFQUFjbEssRUFBUW1GLEdBQ3BEd0QsRUFBa0IzRyxtQkFFbEIsTUFBTXlILEVBQTRCLElBQUlTLEVBQ3BDbEssRUFDQStFLEdBRUYwRSxFQUEwQnpILGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9BUEkuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBjYXJkcyxcclxuICAgIGNhcmRTZWxlY3RvcixcclxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXHJcbiAgICBoYW5kbGVDYXJkRGVsZXRlQ2xpY2ssXHJcbiAgICBoYW5kbGVDYXJkTGlrZSxcclxuICAgIF9oYW5kbGVDYXJkTGlrZVJlbW92ZVxyXG4gICkge1xyXG4gICAgdGhpcy5fbmFtZSA9IGNhcmRzLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gY2FyZHMubGluaztcclxuICAgIHRoaXMuX2lkID0gY2FyZHMuX2lkO1xyXG4gICAgdGhpcy5faXNMaWtlZCA9IGNhcmRzLmlzTGlrZWQ7XHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGVDbGljayA9IGhhbmRsZUNhcmREZWxldGVDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlID0gaGFuZGxlQ2FyZExpa2U7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZVJlbW92ZSA9IF9oYW5kbGVDYXJkTGlrZVJlbW92ZTtcclxuICB9XHJcbiAgZ2V0SWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgfVxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIC8vIC0tLS0gY2FyZCBsaWtlIGJ1dHRvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmQtaGVhcnRcIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzTGlrZWQpIHtcclxuICAgICAgICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlUmVtb3ZlKHRoaXMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZSh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIC8vIC0tLS0gY2FyZCBkZWxldGUgYnV0dG9uIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZERlbGV0ZUNsaWNrKHRoaXMpO1xyXG4gICAgICB9KTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2soeyBuYW1lOiB0aGlzLl9uYW1lLCBsaW5rOiB0aGlzLl9saW5rIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmUoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUxpa2VJY29uKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZC1oZWFydFwiKVxyXG4gICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcImNhcmQtaGVhcnRfYWN0aXZlXCIpO1xyXG4gICAgdGhpcy5faXNMaWtlZCA9ICF0aGlzLl9pc0xpa2VkO1xyXG4gIH1cclxuXHJcbiAgX2xvYWRMaWtlcygpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmQtaGVhcnRcIilcclxuICAgICAgLmNsYXNzTGlzdC5hZGQoXCJjYXJkLWhlYXJ0X2FjdGl2ZVwiKTtcclxuICB9XHJcbiAgZ2V0VmlldygpIHtcclxuICAgIC8vIC0tLS0gZ2V0IHRoZSBjYXJkIHZpZXcgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZUVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkLWltYWdlXCIpO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlRWwgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmQtdGl0bGVcIik7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWx0ID0gYFBob3RvIG9mICR7dGhpcy5fbmFtZX1gO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlRWwudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG5cclxuICAgIGlmICh0aGlzLl9pc0xpa2VkKSB7XHJcbiAgICAgIHRoaXMuX2xvYWRMaWtlcygpO1xyXG4gICAgfVxyXG4gICAgLy8gLS0tLSBzZXQgZXZlbnQgbGlzdGVuZXIgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIC8vIC0tLS0gcmV0dXJuIHRoZSBjYXJkIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcclxuICB9XHJcbn1cclxuIiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWwpIHtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Zvcm1FbCA9IGZvcm1FbDtcclxuICB9XHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfZm91bmRJbnZhbGlkKCkge1xyXG4gICAgcmV0dXJuICF0aGlzLl9pbnB1dEVscy5ldmVyeSgoaW5wdXRFbCkgPT4gaW5wdXRFbC52YWxpZGl0eS52YWxpZCk7XHJcbiAgfVxyXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2ZvdW5kSW52YWxpZCgpKSB7XHJcbiAgICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcbiAgX2Rpc2FibGVCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpIHtcclxuICAgIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKSB7XHJcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5faW5wdXRFbHMgPSBbLi4udGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcildO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG5cclxuICAgIHRoaXMuX2lucHV0RWxzLmZvckVhY2goKGlucHV0RWwpID0+IHtcclxuICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGUpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCk7XHJcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycyh0aGlzLl9mb3JtRWwpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9KSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fY2xvc2VNb2RhbEJ1dHRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZVwiKTtcclxuICB9XHJcbiAgb3Blbk1vZGFsKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG4gIGNsb3NlTW9kYWwoKSB7XHJcbiAgICAvL2Nsb3NlIHBvcHVwXHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NCdXR0b24pO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZU92ZXJsYXlDbG9zZSk7XHJcbiAgICB0aGlzLl9jbG9zZU1vZGFsQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwiY2xpY2tcIixcclxuICAgICAgdGhpcy5faGFuZGxlQ2xpY2tCdXR0b25DbG9zZVxyXG4gICAgKTtcclxuICB9XHJcbiAgX2hhbmRsZUVzY0J1dHRvbiA9IChldmVudCkgPT4ge1xyXG4gICAgLy9lc2NcclxuICAgIGNvbnN0IGtleSA9IGV2ZW50LmtleTtcclxuICAgIGlmIChrZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZU1vZGFsKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuICBfaGFuZGxlT3ZlcmxheUNsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfb3BlbmVkXCIpKSB7XHJcbiAgICAgIHRoaXMuY2xvc2VNb2RhbCgpO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgX2hhbmRsZUNsaWNrQnV0dG9uQ2xvc2UgPSAoKSA9PiB7XHJcbiAgICB0aGlzLmNsb3NlTW9kYWwoKTtcclxuICB9O1xyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIC8vc2V0IGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0J1dHRvbik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlT3ZlcmxheUNsb3NlKTtcclxuICAgIHRoaXMuX2Nsb3NlTW9kYWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJjbGlja1wiLFxyXG4gICAgICB0aGlzLl9oYW5kbGVDbGlja0J1dHRvbkNsb3NlXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0IH0pIHtcclxuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgfVxyXG4gIGNsb3NlTW9kYWwoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcclxuICAgIHN1cGVyLmNsb3NlTW9kYWwoKTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXRCdXR0b24pO1xyXG4gIH1cclxuICBfaGFuZGxlRm9ybVN1Ym1pdEJ1dHRvbiA9IChldnQpID0+IHtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICB9O1xyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdEJ1dHRvbik7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dExpc3QgPSBbLi4udGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaW5wdXRcIildO1xyXG5cclxuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XHJcblxyXG4gICAgZm9yIChjb25zdCBpbnB1dCBvZiBpbnB1dExpc3QpIHtcclxuICAgICAgaW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgfVxyXG4gIHNldFN1Ym1pdEFjdGlvbihoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcyB9LCByZW5kZXJlciwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgLy9yZW5kZXJzIGFsbCBlbGVtZW50cyBvbiB0aGUgcGFnZS4gSXQgc2hvdWxkIGl0ZXJhdGUgdGhyb3VnaCB0aGUgaXRlbXMgYXJyYXkgYW5kIGNhbGwgdGhlIHJlbmRlcmVyKClcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgYWRkSXRlbShpdGVtcykge1xyXG4gICAgLy90YWtlcyBET00gRWwgYW5kIGFkZHMgaXQgdG8gdGhlIGNvbnRhaW5lci4gVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGFkZGluZyBhbiBpbmRpdmlkdWFsIGNhcmQgdG8gdGhlIGRvbVxyXG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKGl0ZW1zKTtcclxuICB9XHJcbiAgcHJlcGVuZEl0ZW1zKGl0ZW1zKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChpdGVtcyk7XHJcbiAgfVxyXG59XHJcbiIsImNvbnN0IGNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2VkaXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCIubW9kYWxfX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCIubW9kYWxfX2Vycm9yX3Zpc2libGVcIixcclxufTtcclxuXHJcbmV4cG9ydCB7IGNvbmZpZyB9O1xyXG4iLCJpbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BUEkuanNcIjtcclxuaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XHJcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbmNvbnN0IHByb2ZpbGVFZGl0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGVNb2RhbFwiKTtcclxuY29uc3QgcHJvZmlsZVBob3RvRWRpdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlUGhvdG9Nb2RhbFwiKTtcclxuY29uc3QgcHJvZmlsZVBob3RvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlSW1hZ2VcIik7XHJcbmNvbnN0IGNvbnRlbnRBZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbnRlbnRfX2FkZC1idXR0b24tYWN0aW9uXCIpO1xyXG5jb25zdCBwcm9maWxlRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFscHJvZmlsZWZvcm1cIik7XHJcbmNvbnN0IGNvbnRlbnRGb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWxjb250ZW50Zm9ybVwiKTtcclxuY29uc3QgbmFtZUlucHV0ID0gcHJvZmlsZUZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZVwiKTtcclxuY29uc3Qgam9iSW5wdXQgPSBwcm9maWxlRm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIiN0aXRsZVwiKTtcclxuY29uc3QgZWRpdFByb2ZpbGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiI3Byb2ZpbGVfX2VkaXQtYnV0dG9uLWFjdGlvblwiXHJcbik7XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCIyMzE3MmYzMy01NWUyLTRlMGUtYTY5NS0wYmFlM2FiNDAxMDZcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChkYXRhKSB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgZGF0YSxcclxuICAgIFwiI2NhcmQtdGVtcGxhdGVcIixcclxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXHJcbiAgICBoYW5kbGVDYXJkRGVsZXRlQ2xpY2ssXHJcbiAgICBoYW5kbGVDYXJkTGlrZSxcclxuICAgIGhhbmRsZUNhcmRMaWtlUmVtb3ZlXHJcbiAgKTtcclxuICByZXR1cm4gY2FyZC5nZXRWaWV3KCk7XHJcbn1cclxuXHJcbmxldCBjYXJkU2VjdGlvbjtcclxuXHJcbmFwaVxyXG4gIC5nZXRJbml0aWFsQ2FyZHMoKVxyXG4gIC50aGVuKChjYXJkcykgPT4ge1xyXG4gICAgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbih7IGl0ZW1zOiBjYXJkcyB9LCByZW5kZXJDYXJkLCBcIiNzZWN0aW9uXCIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIHJlbmRlckNhcmQoY2FyZHMpIHtcclxuICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGNhcmRzKTtcclxuICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2FyZFNlY3Rpb24ucmVuZGVySXRlbXMoKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gIH0pO1xyXG5cclxuY29uc3QgbmV3Q2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiI2NvbnRlbnRNb2RhbFwiLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IGhhbmRsZUNhcmRGb3JtU3VibWl0LFxyXG59KTtcclxuXHJcbmNvbnRlbnRBZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjYXJkRm9ybVZhbGlkYXRvci50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gIG5ld0NhcmRQb3B1cC5vcGVuTW9kYWwoKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDYXJkRm9ybVN1Ym1pdChjYXJkVmFsdWVzKSB7XHJcbiAgY29uc3Qgc3VibWl0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbENvbnRlbnRTdWJtaXRcIik7XHJcbiAgY29uc3Qgb3JpZ2luYWxCdXR0b25UZXh0ID0gc3VibWl0QnV0dG9uLnRleHRDb250ZW50O1xyXG4gIC8vIENoYW5nZSBidXR0b24gdGV4dCB0byBcIlNhdmluZy4uLlwiXHJcbiAgc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuXHJcbiAgYXBpXHJcbiAgICAuYWRkTmV3Q2FyZChjYXJkVmFsdWVzKVxyXG4gICAgLnRoZW4oKGNhcmREYXRhKSA9PiB7XHJcbiAgICAgIGNvbnN0IG5ld0NhcmQgPSBjcmVhdGVDYXJkKGNhcmREYXRhKTtcclxuICAgICAgY2FyZFNlY3Rpb24ucHJlcGVuZEl0ZW1zKG5ld0NhcmQpO1xyXG4gICAgICBuZXdDYXJkUG9wdXAuY2xvc2VNb2RhbCgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBvcmlnaW5hbEJ1dHRvblRleHQ7XHJcbiAgICB9KTtcclxufVxyXG5cclxuY29uc3QgbmV3VXNlckluZm8gPSBuZXcgVXNlckluZm8oXHJcbiAgXCIjcHJvZmlsZW5hbWVcIixcclxuICBcIiNwcm9maWxlam9iXCIsXHJcbiAgXCIjcHJvZmlsZUltYWdlXCJcclxuKTtcclxuXHJcbmFwaVxyXG4gIC5sb2FkVXNlckluZm8oKVxyXG4gIC50aGVuKCh1c2VyRGF0YSkgPT4ge1xyXG4gICAgbmV3VXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xyXG5cclxuZWRpdFByb2ZpbGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjb25zdCBkYXRhID0gbmV3VXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICBuYW1lSW5wdXQudmFsdWUgPSBkYXRhLm5hbWU7XHJcbiAgam9iSW5wdXQudmFsdWUgPSBkYXRhLmpvYjtcclxuICBwcm9maWxlUG9wdXAub3Blbk1vZGFsKCk7XHJcbn0pO1xyXG5cclxucHJvZmlsZVBob3RvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgcHJvZmlsZVBob3RvRWRpdFZhbGlkYXRvci50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gIHByb2ZpbGVQaG90b0VkaXQub3Blbk1vZGFsKCk7XHJcbn0pO1xyXG5cclxuY29uc3QgcHJvZmlsZVBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiI3Byb2ZpbGVNb2RhbFwiLFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0LFxyXG59KTtcclxuXHJcbmNvbnN0IHByb2ZpbGVQaG90b0VkaXQgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIjcHJvZmlsZVBob3RvTW9kYWxcIixcclxuICBoYW5kbGVGb3JtU3VibWl0OiBoYW5kbGVQcm9maWxlUGhvdG9TdWJtaXQsXHJcbn0pO1xyXG5cclxuY29uc3QgZGVsZXRlQ29uZmlybWF0aW9uID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiI2RlbGV0ZUNvbnRlbnRcIixcclxufSk7XHJcblxyXG5jb25zdCBjb250ZW50Q2FyZFByZXZpZXcgPSBuZXcgUG9wdXBXaXRoSW1hZ2Uoe1xyXG4gIHBvcHVwU2VsZWN0b3I6IFwiI2pzUG9wdXBTZWxlY3RvclwiLFxyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUNhcmREZWxldGVDbGljayhjYXJkKSB7XHJcbiAgZGVsZXRlQ29uZmlybWF0aW9uLm9wZW5Nb2RhbCgpO1xyXG5cclxuICBkZWxldGVDb25maXJtYXRpb24uc2V0U3VibWl0QWN0aW9uKCgpID0+IHtcclxuICAgIGFwaVxyXG4gICAgICAuZGVsZXRlQ2FyZChjYXJkLmdldElkKCkpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBjYXJkLnJlbW92ZSgpO1xyXG4gICAgICAgIGRlbGV0ZUNvbmZpcm1hdGlvbi5jbG9zZU1vZGFsKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUltYWdlQ2xpY2soY2FyZCkge1xyXG4gIGNvbnRlbnRDYXJkUHJldmlldy5vcGVuTW9kYWwoY2FyZCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVQaG90b1N1Ym1pdChpbnB1dFZhbHVlcykge1xyXG4gIGNvbnN0IHN1Ym1pdEJ1dHRvbm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsUGhvdG9TdWJtaXRcIik7XHJcbiAgY29uc3Qgb3JpZ2luYWxCdXR0b25UZXh0ID0gc3VibWl0QnV0dG9ubS50ZXh0Q29udGVudDtcclxuICAvLyBDaGFuZ2UgYnV0dG9uIHRleHQgdG8gXCJTYXZpbmcuLi5cIlxyXG4gIHN1Ym1pdEJ1dHRvbm0udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xyXG5cclxuICBhcGlcclxuICAgIC51cGRhdGVQcm9maWxlUGhvdG8oaW5wdXRWYWx1ZXMpXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIG5ld1VzZXJJbmZvLnNldFVzZXJJbmZvKHJlcyk7XHJcbiAgICAgIHByb2ZpbGVQaG90b0VkaXQuY2xvc2VNb2RhbCgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBzdWJtaXRCdXR0b25tLnRleHRDb250ZW50ID0gb3JpZ2luYWxCdXR0b25UZXh0O1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KGlucHV0VmFsdWVzKSB7XHJcbiAgcHJvZmlsZUZvcm1WYWxpZGF0b3IudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICBwcm9maWxlUG9wdXAub3Blbk1vZGFsKCk7XHJcbiAgY29uc3QgbmFtZSA9IGlucHV0VmFsdWVzLm5hbWU7XHJcbiAgY29uc3QgYWJvdXQgPSBpbnB1dFZhbHVlcy5hYm91dDtcclxuICBjb25zdCBzdWJtaXRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsUHJvZmlsZVN1Ym1pdFwiKTtcclxuICBjb25zdCBvcmlnaW5hbEJ1dHRvblRleHQgPSBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQ7XHJcbiAgLy8gQ2hhbmdlIGJ1dHRvbiB0ZXh0IHRvIFwiU2F2aW5nLi4uXCJcclxuICBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xyXG4gIGFwaVxyXG4gICAgLmVkaXRQcm9maWxlSW5mbyh7XHJcbiAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgIGFib3V0OiBhYm91dCxcclxuICAgIH0pXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIG5ld1VzZXJJbmZvLnNldFVzZXJJbmZvKHJlcyk7XHJcbiAgICAgIHByb2ZpbGVQb3B1cC5jbG9zZU1vZGFsKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IG9yaWdpbmFsQnV0dG9uVGV4dDtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDYXJkTGlrZShjYXJkKSB7XHJcbiAgYXBpXHJcbiAgICAuYWRkQ2FyZExpa2UoY2FyZC5nZXRJZCgpKVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICBjYXJkLmhhbmRsZUxpa2VJY29uKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDYXJkTGlrZVJlbW92ZShjYXJkKSB7XHJcbiAgYXBpXHJcbiAgICAucmVtb3ZlQ2FyZExpa2UoY2FyZC5nZXRJZCgpKVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICBjYXJkLmhhbmRsZUxpa2VJY29uKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5jb25zdCBwcm9maWxlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgcHJvZmlsZUVkaXRNb2RhbCk7XHJcbnByb2ZpbGVGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IGNhcmRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBjb250ZW50Rm9ybUVsZW1lbnQpO1xyXG5jYXJkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBwcm9maWxlUGhvdG9FZGl0VmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgY29uZmlnLFxyXG4gIHByb2ZpbGVQaG90b0VkaXRNb2RhbFxyXG4pO1xyXG5wcm9maWxlUGhvdG9FZGl0VmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGxvYWRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGVkaXRQcm9maWxlSW5mbyh7IG5hbWUsIGFib3V0IH0pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGFib3V0LFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGFkZE5ld0NhcmQoeyB0aXRsZSwgdXJsIH0pIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IHRpdGxlLFxyXG4gICAgICAgIGxpbms6IHVybCxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBkZWxldGVDYXJkKGNhcmRJRCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElEfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9jaGVja1Jlc3BvbnNlKHJlcyk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgYWRkQ2FyZExpa2UoY2FyZElEKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSUR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX2NoZWNrUmVzcG9uc2UocmVzKTtcclxuICAgIH0pO1xyXG4gIH1cclxuICByZW1vdmVDYXJkTGlrZShjYXJkSUQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJRH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHVwZGF0ZVByb2ZpbGVQaG90byhhdmF0YXIpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBhdmF0YXIucHJvZmlsZVBpY3R1cmVMaW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2hlY2tSZXNwb25zZShyZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3RvcihuYW1lU2VsZWN0b3IsIGFib3V0U2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLm5hbWVFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuYWJvdXRFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWJvdXRTZWxlY3Rvcik7XHJcbiAgICB0aGlzLnVzZXJBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICB9XHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4geyBuYW1lOiB0aGlzLm5hbWVFbC50ZXh0Q29udGVudCwgam9iOiB0aGlzLmFib3V0RWwudGV4dENvbnRlbnQgfTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQsIGF2YXRhciB9KSB7XHJcbiAgICAvL3doaWNoIHRha2VzIG5ldyB1c2VyIGRhdGEgYW5kIGFkZHMgaXQgdG8gdGhlIHBhZ2UuIFRoaXMgbWV0aG9kIHNob3VsZCBiZSB1c2VkIGFmdGVyIHN1Y2Nlc3NmdWwgc3VibWlzc2lvbiBvZiB0aGUgcHJvZmlsZSBmb3JtLlxyXG4gICAgdGhpcy5uYW1lRWwudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5hYm91dEVsLnRleHRDb250ZW50ID0gYWJvdXQ7XHJcbiAgICB0aGlzLnVzZXJBdmF0YXIuc3JjID0gYXZhdGFyO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9KSB7XHJcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XHJcbiAgICB0aGlzLl9pbWFnZVByZXZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19wcmV2aWV3LWltYWdlXCIpO1xyXG4gICAgdGhpcy5fbW9kYWxJbWFnZVRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19wcmV2aWV3LXRpdGxlXCIpO1xyXG4gIH1cclxuICBvcGVuTW9kYWwoY2FyZCkge1xyXG4gICAgdGhpcy5faW1hZ2VQcmV2aWV3LnNyYyA9IGNhcmQubGluaztcclxuICAgIHRoaXMuX2ltYWdlUHJldmlldy5hbHQgPSBgUGhvdG8gb2YgJHtjYXJkLm5hbWV9YDtcclxuICAgIHRoaXMuX21vZGFsSW1hZ2VUZXh0LnRleHRDb250ZW50ID0gY2FyZC5uYW1lO1xyXG4gICAgc3VwZXIub3Blbk1vZGFsKCk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJDYXJkIiwiY29uc3RydWN0b3IiLCJjYXJkcyIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJoYW5kbGVDYXJkRGVsZXRlQ2xpY2siLCJoYW5kbGVDYXJkTGlrZSIsIl9oYW5kbGVDYXJkTGlrZVJlbW92ZSIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfaWQiLCJfaXNMaWtlZCIsImlzTGlrZWQiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlQ2FyZERlbGV0ZUNsaWNrIiwiX2hhbmRsZUNhcmRMaWtlIiwiZ2V0SWQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfY2FyZEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9jYXJkSW1hZ2VFbCIsInJlbW92ZSIsImhhbmRsZUxpa2VJY29uIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiX2xvYWRMaWtlcyIsImFkZCIsImdldFZpZXciLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfY2FyZFRpdGxlRWwiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsImNvbmZpZyIsImZvcm1FbCIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtRWwiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsIiwiZXJyb3JNZXNzYWdlRWwiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2ZvdW5kSW52YWxpZCIsIl9pbnB1dEVscyIsImV2ZXJ5IiwidmFsaWRpdHkiLCJ2YWxpZCIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiX2Rpc2FibGVCdXR0b24iLCJfc3VibWl0QnV0dG9uIiwiZGlzYWJsZWQiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX2hpZGVJbnB1dEVycm9yIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJlIiwiZW5hYmxlVmFsaWRhdGlvbiIsInByZXZlbnREZWZhdWx0IiwiUG9wdXAiLCJfcmVmIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfY2xvc2VNb2RhbEJ1dHRvbiIsIm9wZW5Nb2RhbCIsInNldEV2ZW50TGlzdGVuZXJzIiwiY2xvc2VNb2RhbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlRXNjQnV0dG9uIiwiX2hhbmRsZU92ZXJsYXlDbG9zZSIsIl9oYW5kbGVDbGlja0J1dHRvbkNsb3NlIiwiZXZlbnQiLCJrZXkiLCJldnQiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfcG9wdXBGb3JtIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJyZXNldCIsIl9oYW5kbGVGb3JtU3VibWl0QnV0dG9uIiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRMaXN0IiwiaW5wdXRWYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwic2V0U3VibWl0QWN0aW9uIiwiU2VjdGlvbiIsInJlbmRlcmVyIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJhZGRJdGVtIiwiYXBwZW5kQ2hpbGQiLCJwcmVwZW5kSXRlbXMiLCJwcmVwZW5kIiwiZm9ybVNlbGVjdG9yIiwicHJvZmlsZUVkaXRNb2RhbCIsInByb2ZpbGVQaG90b0VkaXRNb2RhbCIsInByb2ZpbGVQaG90byIsImNvbnRlbnRBZGRCdXR0b24iLCJwcm9maWxlRm9ybUVsZW1lbnQiLCJjb250ZW50Rm9ybUVsZW1lbnQiLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsImVkaXRQcm9maWxlQnV0dG9uIiwiYXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiX2NoZWNrUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0SW5pdGlhbENhcmRzIiwiZmV0Y2giLCJ0aGVuIiwibG9hZFVzZXJJbmZvIiwiZWRpdFByb2ZpbGVJbmZvIiwiX3JlZjIiLCJhYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWRkTmV3Q2FyZCIsIl9yZWYzIiwidGl0bGUiLCJ1cmwiLCJkZWxldGVDYXJkIiwiY2FyZElEIiwiYWRkQ2FyZExpa2UiLCJyZW1vdmVDYXJkTGlrZSIsInVwZGF0ZVByb2ZpbGVQaG90byIsImF2YXRhciIsInByb2ZpbGVQaWN0dXJlTGluayIsImF1dGhvcml6YXRpb24iLCJjcmVhdGVDYXJkIiwiZGF0YSIsImhhbmRsZUNhcmRMaWtlUmVtb3ZlIiwiY2FyZFNlY3Rpb24iLCJjYXJkRWxlbWVudCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsIm5ld0NhcmRQb3B1cCIsImNhcmRWYWx1ZXMiLCJzdWJtaXRCdXR0b24iLCJnZXRFbGVtZW50QnlJZCIsIm9yaWdpbmFsQnV0dG9uVGV4dCIsImNhcmREYXRhIiwibmV3Q2FyZCIsImZpbmFsbHkiLCJjYXJkRm9ybVZhbGlkYXRvciIsIm5ld1VzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiYWJvdXRTZWxlY3RvciIsImF2YXRhclNlbGVjdG9yIiwibmFtZUVsIiwiYWJvdXRFbCIsInVzZXJBdmF0YXIiLCJnZXRVc2VySW5mbyIsImpvYiIsInNldFVzZXJJbmZvIiwidXNlckRhdGEiLCJlcnJvciIsInByb2ZpbGVQb3B1cCIsInByb2ZpbGVQaG90b0VkaXRWYWxpZGF0b3IiLCJwcm9maWxlUGhvdG9FZGl0IiwicHJvZmlsZUZvcm1WYWxpZGF0b3IiLCJzdWJtaXRCdXR0b25tIiwiZGVsZXRlQ29uZmlybWF0aW9uIiwiY29udGVudENhcmRQcmV2aWV3IiwiX2ltYWdlUHJldmlldyIsIl9tb2RhbEltYWdlVGV4dCIsImNhcmQiLCJGb3JtVmFsaWRhdG9yIl0sInNvdXJjZVJvb3QiOiIifQ==